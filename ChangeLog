2005-08-16  Christian Persch  <chpe@cvs.gnome.org>

	* src/Printer.cpp:
	* src/Printer.h:
	* src/main.cpp:

	Implement --print-background for gnome-web-print (based losely on a
	patch by Steinar H. Gunderson), and fix the case of a relative output
	filename.

2005-08-08  Christian Persch  <chpe@cvs.gnome.org>

	* src/Printer.cpp:

	Use kRangeAllPages here.

2005-08-08  Christian Persch  <chpe@cvs.gnome.org>

	* src/main.cpp:

	Don't load the scrollbar-preventing stylesheet for print mode, since
	it prevents us from printing all pages.

2005-08-07  Christian Persch  <chpe@cvs.gnome.org>

	* src/Makefile.am:
	* src/Printer.cpp:
	* src/Printer.h:
	* src/main.cpp:

	Add gnome-web-print to print the page to postscript file.

2005-08-07  Christian Persch  <chpe@cvs.gnome.org>

	* data/prefs.js:

	Disable error pages.

2005-08-07  Christian Persch  <chpe@cvs.gnome.org>

	* src/Components.cpp:
	* src/Components.h:

	Move class definition to .cpp.

2005-08-07  Christian Persch  <chpe@cvs.gnome.org>

	* src/Writer.cpp:

	Fix for latest firefox trunk.

2005-07-15  Christian Persch  <chpe@cvs.gnome.org>

	* data/prefs.js:
	* src/Listener.cpp:
	* src/main.cpp:

	Remove the gross hack with setting/unsetting the env var now
	that https://bugzilla.mozilla.org/show_bug.cgi?id=299681 is
	checked in, and set the pref instead.

2005-07-12  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Update gecko configure checks for seamonkey.

2005-07-05  Christian Persch  <chpe@cvs.gnome.org>

	* NEWS:
	* src/Listener.cpp:
	* src/main.cpp:

	Move env var unsetting to the onload handler, since it needs to be
	done on the very first onload, not on the main DOM window's onload.
	Move the main window offscreen before showing/withdrawing it.

2005-06-05  Christian Persch  <chpe@cvs.gnome.org>

	* data/prefs.js:

	Disable disk cache.

2005-06-02  Christian Persch  <chpe@cvs.gnome.org>

	* data/prefs.js:

	Don't persist cookies and passwords.

	* src/main.cpp:

	Enable profile, since gecko crashes otherwise on https sites and when
	trying to access the password manager.

2005-05-26  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:

	Automatically detect whether we have a mozilla debug build.

2005-05-26  Christian Persch  <chpe@cvs.gnome.org>

	* src/Writer.cpp:

	Minor fix from mozilla nsDocumentViewer.cpp.

2005-05-26  Christian Persch  <chpe@cvs.gnome.org>

	* data/style.css:

	Only suppress scrollbars for some elements; using it for <div> breaks
	the layout horribly.

2005-05-10  Christian Persch  <chpe@cvs.gnome.org>

	* src/Makefile.am:
	* src/Writer.cpp:
	* src/Writer.h:

	Fix crash in the PNG writer when Prepare was never called.
	Adapt to changed behaviour in nsIViewManager::RenderOffscreen;
	the rect is now converted (and rounded, urgh) to pixels.

2005-05-10  Christian Persch  <chpe@cvs.gnome.org>

	* data/Makefile.am:
	* data/style.css:
	* src/main.cpp: (init_gecko):

	Add a stylesheet to remove the scrollbars.

2005-05-10  Christian Persch  <chpe@cvs.gnome.org>

	* src/Listener.cpp:
	* src/Listener.h:

	Fix for mozilla API change to nsIDOMLoadListener.

2005-04-26  Christian Persch  <chpe@cvs.gnome.org>

	* src/Writer.cpp:

	Fix a mem leak, and simplify the code for little endian case.

2005-04-26  Christian Persch  <chpe@cvs.gnome.org>

	* data/thumbnailer.schemas.in:
	* po/POTFILES.in:

	Add schema file to POTFILES.in, and change a few strings in the
	schema.

2005-04-24  Christian Persch  <chpe@cvs.gnome.org>

	* src/Listener.cpp:
	* src/Listener.h:
	* src/main.cpp:

	Use nsIWebBrowserSetup to disable global history and redirects,
	as well as frames.

2005-04-24  Christian Persch  <chpe@cvs.gnome.org>

	* src/main.cpp:

	Check for NULL arguments.

2005-04-24  Christian Persch  <chpe@cvs.gnome.org>

	* src/Writer.cpp:

	Fix rounding in thumbnail height calculation.

	* src/main.cpp:

	Remove --thumbnail option from gnome-web-photo, and add defaults to
	--width and --size.

2005-04-23  Christian Persch  <chpe@cvs.gnome.org>

	* src/Components.cpp:
	* src/Components.h:
	* src/Makefile.am:
	* src/main.cpp:

	Add dummy prompt service implementation which always returns
	cancel.

2005-04-23  Christian Persch  <chpe@cvs.gnome.org>

	* data/prefs.js:

	Disable formfill and password manager.

	* src/Writer.cpp:

	Sanity check.
	
2005-04-23  Christian Persch  <chpe@cvs.gnome.org>

	* src/Writer.cpp:

	Less debug output.

2005-04-23  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* src/main.cpp:

	Hack to get background images to load before onload.
	Many thanks to biesi for giving me the hint that made me
	think of this hack!
	
2005-04-23  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* src/Makefile.am:
	* src/Writer.cpp:
	* src/Writer.h:
	* src/main.cpp:

	And remove it again.

2005-04-23  Christian Persch  <chpe@cvs.gnome.org>

	* configure.ac:
	* src/Makefile.am:
	* src/Writer.cpp:
	* src/Writer.h:
	* src/main.cpp:

	Add JPEG as optional output file format.

2005-04-22  Christian Persch  <chpe@cvs.gnome.org>

	* src/Writer.cpp:

	Fix thumbnail aspect ratio.

2005-04-21  Christian Persch  <chpe@cvs.gnome.org>

	* Initial import to cvs.
